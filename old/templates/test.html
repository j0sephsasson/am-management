<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="static/css/styles.css" rel="stylesheet">

    <!-- JQUERY -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TimelineMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.12.1/plugins/CSSRulePlugin.min.js"></script>
</head>
<body>
    <div class="loader">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
        <div class="bar4"></div>
        <div class="bar5"></div>
        <div class="bar6"></div>
    </div>

    <main>
        <div class="-content -index">
            <div>
                <img src="static/img/logo-with-tredmark.png" width="110">
                <br>
                <form action="/enter" method="post">
                    <button href="#" type="submit" class="btn js-trigger-transition" style="cursor: pointer;">Enter</button>
                </form>
            </div>
        </div>
    </main>

    <script>
        // play on load for gallery view
        setTimeout(transition, 100);

        // $('.js-trigger-transition').on('click', function (e) {
        //     e.preventDefault();
        //     transition();
        // });

        function transition() {
            var tl = new TimelineMax();

            tl.to(CSSRulePlugin.getRule('body:before'), 0.2, {
                    cssRule: {
                        top: '50%'
                    },
                    ease: Power2.easeOut
                }, 'close')
                .to(CSSRulePlugin.getRule('body:after'), 0.2, {
                    cssRule: {
                        bottom: '50%'
                    },
                    ease: Power2.easeOut
                }, 'close')
                .to($('.loader'), 0.2, {
                    opacity: 1
                })
                .to(CSSRulePlugin.getRule('body:before'), 0.2, {
                    cssRule: {
                        top: '0%'
                    },
                    ease: Power2.easeOut
                }, '+=1.5', 'open')
                .to(CSSRulePlugin.getRule('body:after'), 0.2, {
                    cssRule: {
                        bottom: '0%'
                    },
                    ease: Power2.easeOut
                }, '-=0.2', 'open')
                .to($('.loader'), 0.2, {
                    opacity: 0
                }, '-=0.2')
        }
    </script>
</body>

</html>